{"version":3,"sources":["webpack:///D:/Projects/hello-uni/components/playPage/UniPlayPage.vue?118d","webpack:///D:/Projects/hello-uni/components/playPage/UniPlayPage.vue?a2af","webpack:///D:/Projects/hello-uni/components/playPage/UniPlayPage.vue?8823","webpack:///D:/Projects/hello-uni/components/playPage/UniPlayPage.vue?41a3","uni-app:///components/playPage/UniPlayPage.vue","webpack:///D:/Projects/hello-uni/components/playPage/UniPlayPage.vue?c92d","webpack:///D:/Projects/hello-uni/components/playPage/UniPlayPage.vue?bc97"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAwmB,CAAgB,qnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuD5nB;AACA,oG;;;;;AAKA;AACA;AACA,kBADA;AAEA,8BAFA,EADA;;AAKA,MALA,kBAKA;AACA;AACA,uDADA;AAEA,4BAFA;AAGA,qBAHA;;AAKA,GAXA;AAYA;AACA;AACA,uBADA;AAEA,uBAFA;AAGA,qBAHA;AAIA,iCAJA;AAKA,qCALA;AAMA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAXA;AAYA,mBAZA;AAaA,2BAbA,GADA,CAZA;;;;;;;;;;;;;;AAwCA;AACA;AACA,6CADA;AAEA,qCAFA;AAGA,uCAHA,EADA;;;AAOA,UAPA,oBAOA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnBA;;AAqBA,YArBA,oBAqBA,CArBA,EAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5BA;;AA8BA,cA9BA,sBA8BA,IA9BA,EA8BA;AACA;AACA;AACA,KAjCA;;AAmCA,mBAnCA,6BAmCA;AACA;AACA,KArCA,GAxCA,E;;;;;;;;;;;;AC7DA;AAAA;AAAA;AAAA;AAAqoC,CAAgB,ulCAAG,EAAC,C;;;;;;;;;;;ACAzpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/playPage/UniPlayPage.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./UniPlayPage.vue?vue&type=template&id=f106863c&scoped=true&\"\nvar renderjs\nimport script from \"./UniPlayPage.vue?vue&type=script&lang=js&\"\nexport * from \"./UniPlayPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UniPlayPage.vue?vue&type=style&index=0&id=f106863c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f106863c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/playPage/UniPlayPage.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./UniPlayPage.vue?vue&type=template&id=f106863c&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./UniPlayPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./UniPlayPage.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"uni_play_page\">\r\n    <swiper class=\"swiper\"\r\n            vertical\r\n            circular\r\n            duration=\"200\"\r\n            @change=\"onChange\"\r\n            :current=\"getPlayPageIndex\"\r\n            :class=\"[isShowSongQueue ? 'blur' : '']\">\r\n\r\n      <swiper-item class=\"item\"\r\n                   @click=\"onMask\"\r\n                   v-for=\"(item, index) in getCurrentPlayQueue\"\r\n                   :key=\"index\">\r\n\r\n        <!--  图片懒加载：优先加载，当前图片、上一张图片（或是最后一张图片）、下一张图片（或是第一张图片） -->\r\n        <image v-if=\"getPlayPageIndex === index\r\n            || getPlayPageIndex === index - 1\r\n            || getPlayPageIndex - 1 === index\r\n            || !index\r\n            || index === getCurrentPlayQueue.length - 1\"\r\n               :src=\"item.picUrl + '?param=400y400'\"\r\n               class=\"img\" mode=\"aspectFill\"\r\n               :class=\"[(!getIsPlay && getPlayPageIndex === index) && 'mask iconfont icon-audioPlay']\">\r\n        </image>\r\n\r\n        <prepare-img :fz=\"22\"></prepare-img>\r\n\r\n        <view class=\"song_info\" v-if=\"getCurrentSong\">\r\n          <uni-tag :tag=\"tag\"></uni-tag>\r\n          <view class=\"song_detail\">\r\n            <view class=\"info\">\r\n              <view class=\"name\">{{ item.name }}</view>\r\n              <view class=\"singer\">{{ item.singer }}</view>\r\n            </view>\r\n            <view class=\"control\">\r\n              <view class=\"iconfont icon-heart\"\r\n                    @click.stop=\"onColSongs(item)\"\r\n                    :class=\"[item.isCollect ? 'active' : '']\"></view>\r\n              <view class=\"iconfont icon-more\"\r\n                    @click.stop=\"onShowSongQueue\">\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </swiper-item>\r\n    </swiper>\r\n\r\n    <!--  歌曲播放队列  -->\r\n    <uni-song-queue v-if=\"isActive\" :isShow.sync=\"isShowSongQueue\"></uni-song-queue>\r\n\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport {mapState, mapMutations} from \"vuex\";\r\nimport types from \"@/store/mutations-types\";\r\n\r\nimport UniTag from \"../tag/UniTag\";\r\nimport UniSongQueue from \"../songQueue/UniSongQueue\";\r\n\r\nexport default {\r\n  components: {\r\n    UniTag,\r\n    UniSongQueue\r\n  },\r\n  data() {\r\n    return {\r\n      tag: ['+歌曲故事', '#New Wave', '#Hot', '#Moo Daily'],\r\n      isShowSongQueue: false,\r\n      isActive: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      getIsInit: 'isInit',\r\n      getIsPlay: 'isPlay',\r\n      getAudio: 'audio',\r\n      getCurrentSong: 'currentSong',\r\n      getPlayPageIndex: 'playPageIndex',\r\n      getCurrentPlayQueue: state => {\r\n        state.currentPlayQueue.forEach(v => {\r\n          if (state.colSongs[v.id] != null) v.isCollect = true;\r\n        });\r\n        return state.currentPlayQueue;\r\n      },\r\n      getLock: 'lock',\r\n      getColSongs: 'colSongs'\r\n    }),\r\n\t\t\r\n    /*// 动态加载播放页面\r\n    renderQueue() {\r\n      let index = this.currentIndex,\r\n          queue = this.getCurrentPlayQueue,\r\n          last = queue.length - 1;\r\n      /!*if (index !== last && index + 2 < queue.length) {\r\n        return queue.slice(index - 1, index + 2);\r\n      }*!/\r\n      return queue;\r\n    }*/\r\n  },\r\n  methods: {\r\n    ...mapMutations([\r\n        types.SET_PLAY_PAGE_INDEX,\r\n        types.SET_IS_INIT,\r\n        types.SET_COL_SONGS\r\n    ]),\r\n\r\n    onMask() {\r\n      if (this.getIsPlay) {\r\n        this.getAudio.pause()\r\n      } else{\r\n        // 如果是app初始化时点击就发出请求\r\n        if (!this.getIsInit) {\r\n          this[types.SET_IS_INIT]();\r\n          this.$store.dispatch('getPlaySong', this.getCurrentSong);\r\n          return;\r\n        }\r\n        this.getAudio.play()\r\n      }\r\n    },\r\n\r\n    onChange(e) {\r\n      // 避免重复请求数据\r\n      if (!this.getLock) {\r\n        let current = e.detail.current;\r\n        this.$store.dispatch('getPlaySong', this.getCurrentPlayQueue[current]);\r\n        this[types.SET_PLAY_PAGE_INDEX](current);\r\n      }\r\n    },\r\n\r\n    onColSongs(item) {\r\n      item.isCollect = !item.isCollect;\r\n      this[types.SET_COL_SONGS](item);\r\n    },\r\n\r\n    onShowSongQueue() {\r\n      this.isShowSongQueue = this.isActive = true;\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .uni_play_page{\r\n    @include wh(100%, 100%);\r\n    position: relative;\r\n\r\n    .blur{\r\n      filter: blur(20px);\r\n    }\r\n    .swiper{\r\n      @include wh(100%, 100%);\r\n      position: absolute;\r\n\r\n      .item{\r\n        position: absolute;\r\n        @include wh(100%, 100%);\r\n\r\n        .img{\r\n          @include wh(100%, 100%);\r\n          will-change: transform;\r\n        }\r\n\r\n        .song_info{\r\n          @include wh(90%, 25%);\r\n          position: absolute;\r\n          bottom: 10%;\r\n          left: 50%;\r\n          transform: translate3d(-50%, -10%, 0);\r\n\r\n          .song_detail{\r\n            width: $container-size;\r\n            margin: 0 auto;\r\n            height: 65%;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: flex-start;\r\n            color: $font-color-white;\r\n            .info{\r\n              flex: 2.5;\r\n              .name{\r\n                font-size: 48rpx;\r\n                font-weight: bold;\r\n              }\r\n              .singer{\r\n                font-size: 38rpx;\r\n                margin-top: 20rpx;\r\n              }\r\n            }\r\n            .control {\r\n              flex: 1;\r\n              text-align: center;\r\n              .iconfont {\r\n                font-size: $icon-size;\r\n              }\r\n              .icon-more{\r\n                margin-top: 20rpx;\r\n              }\r\n              .active{\r\n                color: $bgc-collection;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /*.songQueue{\r\n      @include wh(100%, 100%);\r\n      position: absolute;\r\n      z-index: 1000;\r\n      transition: all .5s ease;\r\n\r\n      .icon-arrow{\r\n        position: absolute;\r\n        left: 50%;\r\n        transform: translateX(-50%) rotate(90deg);\r\n        color: $font-color-white;\r\n      }\r\n\r\n      .box{\r\n        @include wh(100%, 100%);\r\n        position: absolute;\r\n        background-color: rgba(0, 0, 0, .2);\r\n\r\n        .detail{\r\n          @include wh(100%, 45%);\r\n        }\r\n\r\n        .control{\r\n          position: absolute;\r\n          top: 45%;\r\n          left: 3%;\r\n        }\r\n\r\n        .scroll{\r\n          @include wh(100%, 100%);\r\n          position: absolute;\r\n          top: 53%;\r\n          color: $font-color-white;\r\n          font-size: 40rpx;\r\n\r\n          .view_item{\r\n            width: 90%;\r\n            margin: 0 auto;\r\n            padding-bottom: 900rpx;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .show{\r\n      transform: translate3d(0, 0, 0);\r\n    }\r\n    .hide{\r\n      transform: translate3d(100%, 100%, 0);\r\n    }*/\r\n  }\r\n  .mask::after{\r\n    content: '';\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0,0,0,.3);\r\n    z-index: 999;\r\n  }\r\n  .mask::before{\r\n    content: \"\\e734\";\r\n    color: $font-color-white;\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    z-index: 1000;\r\n    transform: translate3d(-50%, -50%, 0);\r\n    font-size: 100rpx;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./UniPlayPage.vue?vue&type=style&index=0&id=f106863c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./UniPlayPage.vue?vue&type=style&index=0&id=f106863c&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1618042960208\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}